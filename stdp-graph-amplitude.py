import ltspice
import matplotlib.pyplot as plt
import numpy as np
import os


diff = [-0.025849998, -0.025961906, -0.02608341, -0.026228845, -0.026393414, -0.026581973, -0.026789725, -0.027026296, -0.027296454, -0.02759549, -0.027933031, -0.028313845, -0.028733283, -0.02920571, -0.029731244, -0.030764878, -0.03202024, -0.03273973, -0.033536732, -0.034425884, -0.035412103, -0.036505282, -0.037720114, -0.039061666, -0.040554434, -0.042203605, -0.044033885, -0.046055436, -0.048293203, -0.051809072, -0.05452165, -0.05751151, -0.06082374, -0.06447458, -0.06865057, -0.07397923, -0.07884124, -0.08420861, -0.091165215, -0.09762174, -0.10473558, -0.10893819, -0.10893819, -0.10893819, -0.10893819, -0.10893819, -0.10893819, -0.10893819, -0.014424473, 0.0, 0.0, 0.10316676, 0.10316682, 0.10316682, 0.10316688, 0.097317696, 0.08685702, 0.07644713, 0.06770438, 0.05888915, 0.051591814, 0.04496771, 0.038078904, 0.032553315, 0.027540386, 0.022991836, 0.017994523, 0.014210165, 0.010772705, 0.0076525807, 0.0048198104, 0.0022494793, -0.0009242892, -0.0030620098, -0.0050028563, -0.0067673326, -0.008365393, -0.009822935, -0.0111396015, -0.0123414695, -0.013433576, -0.014426202, -0.015329778, -0.016149402, -0.016900837, -0.017578661, -0.018203944, -0.01877132, -0.019286007, -0.019763857, -0.020199448, -0.020968229, -0.021669954, -0.022120774, -0.022429913, -0.022717893, -0.022979379, -0.023219675, -0.023438752, -0.023647249, 
 -0.014424473, -0.060990006, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
 -0.11026803, -0.10072073, -0.091159075, -0.081590116, -0.072014004, -0.0624308, -0.05284041, -0.043242663, -0.03363791, -0.024025947, -0.014407158, -0.024033487, -0.03366679, -0.042871863, -0.050134838, -0.055433482, -0.058764875, -0.060087413, -0.060376942, -0.0606665, -0.060925156,
 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0006981492, 0.0034864545, 0.008368552, 0.015369117, 0.024429083, 0.03472519, 0.04496789, 0.05526185, 0.06553584
 , 0.06553584, 0.06533682, 0.06512737, 0.06442821, 0.061804354, 0.05735731, 0.050988078, 0.042675078, 0.034280002, 0.025877595, 0.017468154
 , 0.017468154, 0.025885403, 0.034310102, 0.04274243, 0.05118227, 0.05962974, 0.068084836, 0.07654756, 0.08501798, 0.093496025, 0.10197538, 0.09567028, 0.089351356, 0.08302683, 0.076696694, 0.07036096, 0.06401962, 0.05767268, 0.051320016, 0.04496169, 0.03859794
 ]
time = [-4.90000000e-01, -4.80000000e-01, -4.70000000e-01, -4.60000000e-01,
 -4.50000000e-01, -4.40000000e-01, -4.30000000e-01, -4.20000000e-01,
 -4.10000000e-01, -4.00000000e-01, -3.90000000e-01, -3.80000000e-01,
 -3.70000000e-01, -3.60000000e-01, -3.50000000e-01, -3.40000000e-01,
 -3.30000000e-01, -3.20000000e-01, -3.10000000e-01, -3.00000000e-01,
 -2.90000000e-01, -2.80000000e-01, -2.70000000e-01, -2.60000000e-01,
 -2.50000000e-01, -2.40000000e-01, -2.30000000e-01, -2.20000000e-01,
 -2.10000000e-01, -2.00000000e-01, -1.90000000e-01, -1.80000000e-01,
 -1.70000000e-01, -1.60000000e-01, -1.50000000e-01, -1.40000000e-01,
 -1.30000000e-01, -1.20000000e-01, -1.10000000e-01, -1.00000000e-01,
 -9.00000000e-02, -8.00000000e-02, -7.00000000e-02, -6.00000000e-02,
 -5.00000000e-02, -4.00000000e-02, -3.00000000e-02, -2.00000000e-02,
 -1.00000000e-02, -1.77635684e-16,  1.00000000e-02,  2.00000000e-02,
  3.00000000e-02,  4.00000000e-02,  5.00000000e-02,  6.00000000e-02,
  7.00000000e-02,  8.00000000e-02,  9.00000000e-02,  1.00000000e-01,
  1.10000000e-01,  1.20000000e-01,  1.30000000e-01,  1.40000000e-01,
  1.50000000e-01,  1.60000000e-01,  1.70000000e-01,  1.80000000e-01,
  1.90000000e-01,  2.00000000e-01,  2.10000000e-01,  2.20000000e-01,
  2.30000000e-01,  2.40000000e-01,  2.50000000e-01,  2.60000000e-01,
  2.70000000e-01,  2.80000000e-01,  2.90000000e-01,  3.00000000e-01,
  3.10000000e-01,  3.20000000e-01,  3.30000000e-01,  3.40000000e-01,
  3.50000000e-01,  3.60000000e-01,  3.70000000e-01,  3.80000000e-01,
  3.90000000e-01,  4.00000000e-01,  4.10000000e-01,  4.20000000e-01,
  4.30000000e-01,  4.40000000e-01,  4.50000000e-01,  4.60000000e-01,
  4.70000000e-01,  4.80000000e-01,  4.90000000e-01,  5.00000000e-01,
  -0.010000000000000009, -0.009000000000000008, -0.008000000000000007, -0.007000000000000006, -0.006000000000000005, -0.0050000000000000044, -0.0040000000000000036, -0.0030000000000000027, -0.0020000000000000018, -0.0010000000000000009, 0.0, 0.0010000000000000009, 0.0020000000000000018, 0.0030000000000000027, 0.0040000000000000036, 0.0050000000000000044, 0.006000000000000005, 0.007000000000000006, 0.008000000000000007, 0.009000000000000008, 0.010000000000000009,
  -0.0010000000000000009, -0.0009000000000000119, -0.0008000000000000229, -0.0006999999999999784, -0.0005999999999999894, -0.0005000000000000004, -0.00040000000000001146, -0.00030000000000002247, -0.00019999999999997797, -9.999999999998899e-05, 0.0, 9.999999999998899e-05, 0.00019999999999997797, 0.00029999999999996696, 0.00039999999999995595, 0.0004999999999999449, 0.0006000000000000449, 0.0007000000000000339, 0.0008000000000000229, 0.0009000000000000119, 0.0010000000000000009,
-0.01100000000000001, -0.01090000000000002, -0.010800000000000032, -0.010699999999999987, -0.010599999999999998, -0.01050000000000001, -0.01040000000000002, -0.010300000000000031, -0.010199999999999987, -0.010099999999999998, -0.010000000000000009, -0.00990000000000002, -0.009800000000000031, -0.009699999999999986, -0.009599999999999997, -0.009500000000000008, -0.00940000000000002, -0.00930000000000003, -0.009199999999999986, -0.009099999999999997, -0.009000000000000008,
  0.0030000000000000027, 0.0030999999999999917, 0.0031999999999999806, 0.0032999999999999696, 0.0033999999999999586, 0.0034999999999999476, 0.0036000000000000476, 0.0037000000000000366, 0.0038000000000000256, 0.0039000000000000146, 0.0040000000000000036, 0.0040999999999999925, 0.0041999999999999815, 0.0042999999999999705, 0.0043999999999999595, 0.0044999999999999485, 0.0046000000000000485, 0.0047000000000000375, 0.0048000000000000265, 0.0049000000000000155, 0.0050000000000000044, 0.005099999999999993, 0.005199999999999982, 0.005299999999999971, 0.00539999999999996, 0.005499999999999949, 0.005600000000000049, 0.005700000000000038, 0.005800000000000027, 0.005900000000000016, 0.006000000000000005, 0.006099999999999994, 0.006199999999999983, 0.006299999999999972, 0.006399999999999961, 0.00649999999999995, 0.00660000000000005, 0.006700000000000039, 0.006800000000000028, 0.006900000000000017, 0.007000000000000006,
  0.009000000000000008, 0.009099999999999997, 0.009199999999999986, 0.009299999999999975, 0.009399999999999964, 0.009499999999999953, 0.009600000000000053, 0.009700000000000042, 0.009800000000000031, 0.00990000000000002, 0.010000000000000009, 0.010099999999999998, 0.010199999999999987, 0.010299999999999976, 0.010399999999999965, 0.010499999999999954, 0.010600000000000054, 0.010700000000000043, 0.010800000000000032, 0.01090000000000002, 0.01100000000000001
  ,0.01100000000000001, 0.011099999999999999, 0.011199999999999988, 0.011299999999999977, 0.011399999999999966, 0.011499999999999955, 0.011600000000000055, 0.011700000000000044, 0.011800000000000033, 0.011900000000000022, 0.01200000000000001
  , 0.01200000000000001, 0.0121, 0.012199999999999989, 0.012299999999999978, 0.012399999999999967, 0.012499999999999956, 0.012600000000000056, 0.012700000000000045, 0.012800000000000034, 0.012900000000000023, 0.013000000000000012, 0.0131, 0.01319999999999999, 0.013299999999999979, 0.013399999999999967, 0.013499999999999956, 0.013600000000000056, 0.013700000000000045, 0.013800000000000034, 0.013900000000000023, 0.014000000000000012
  ]
diff_2 = [-0.038688093, -0.038760036, -0.03877154, -0.038941234, -0.03909436, -0.039252788, -0.039526194, -0.03973922, -0.040116996, -0.040533453, -0.041065812, -0.04157111, -0.04225889, -0.04296404, -0.04380828, -0.044808596, -0.045888036, -0.047157794, -0.04855752, -0.050137788, -0.05196619, -0.053937823, -0.05614838, -0.058638155, -0.061436683, -0.064539224, -0.06894976, -0.072782665, -0.077034265, -0.081679165, -0.08689666, -0.09268013, -0.09909183, -0.10708791, -0.11482313, -0.12347889, -0.1329154, -0.144413, -0.15583494, -0.16850099, -0.18340346, -0.19870004, -0.21649793, -0.23479813, -0.25592655, -0.27794597, -0.29027483, -0.29027483, -0.11060688, 0.0, 0.10629487, 0.33611983, 0.31319475, 0.2827289, 0.255588, 0.22979474, 0.20606834, 0.18505836, 0.16513163, 0.14759094, 0.13150781, 0.116056144, 0.102666914, 0.09044415, 0.078552544, 0.06831485, 0.0590958, 0.050631702, 0.042875767, 0.035880983, 0.028615892, 0.022739172, 0.017362475, 0.012366295, 0.0079087615, 0.0038030744, -1.4275312e-05, -0.0034593344, -0.00661847, -0.009482086, -0.012212306, -0.0146586895, -0.01688692, -0.019815803, -0.021710217, -0.023503602, -0.02520296, -0.026785016, -0.028241724, -0.029579937, -0.030844718, -0.03199771, -0.03317547, -0.03414932, -0.035178035, -0.03613183, -0.03704104, -0.03785947, -0.038694263, -0.03941503
,-0.2949679, -0.11060688, -0.29751772, -0.07320586, -0.30070984, -0.03526923, -0.22993088, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.11051524, 0.020602822, 0.31779033, 0.0630551, 0.3225134, 0.10629487, 0.32667845
]
time_2 = [-0.49, -0.48, -0.47, -0.46, -0.45, -0.44, -0.43, -0.42, -0.41000000000000003, -0.4, -0.39, -0.38, -0.37, -0.36, -0.35, -0.33999999999999997, -0.32999999999999996, -0.31999999999999995, -0.30999999999999994, -0.29999999999999993, -0.2899999999999999, -0.2799999999999999, -0.2699999999999999, -0.2599999999999999, -0.24999999999999994, -0.23999999999999994, -0.22999999999999993, -0.21999999999999992, -0.2099999999999999, -0.1999999999999999, -0.1899999999999999, -0.17999999999999988, -0.16999999999999987, -0.15999999999999986, -0.14999999999999986, -0.13999999999999985, -0.12999999999999984, -0.11999999999999983, -0.10999999999999982, -0.09999999999999981, -0.0899999999999998, -0.0799999999999998, -0.06999999999999978, -0.059999999999999776, -0.04999999999999977, -0.03999999999999976, -0.02999999999999975, -0.01999999999999974, -0.009999999999999731, 2.220446049250313e-16, 0.010000000000000231, 0.02000000000000024, 0.03000000000000025, 0.04000000000000026, 0.050000000000000266, 0.060000000000000275, 0.07000000000000028, 0.0800000000000003, 0.0900000000000003, 0.10000000000000031, 0.11000000000000032, 0.12000000000000033, 0.13000000000000034, 0.14000000000000035, 0.15000000000000036, 0.16000000000000036, 0.17000000000000037, 0.18000000000000038, 0.1900000000000004, 0.2000000000000004, 0.2100000000000004, 0.22000000000000042, 0.23000000000000043, 0.24000000000000044, 0.25000000000000044, 0.26000000000000045, 0.27000000000000046, 0.28000000000000047, 0.2900000000000005, 0.3000000000000005, 0.3100000000000005, 0.3200000000000005, 0.3300000000000005, 0.3400000000000005, 0.35000000000000053, 0.36000000000000054, 0.37000000000000055, 0.38000000000000056, 0.39000000000000057, 0.4000000000000006, 0.4100000000000006, 0.4200000000000006, 0.4300000000000006, 0.4400000000000006, 0.4500000000000006, 0.46000000000000063, 0.47000000000000064, 0.48000000000000065, 0.49000000000000066, 0.5000000000000007
,-0.01100000000000001, -0.010000000000000009, -0.009000000000000008, -0.008000000000000007, -0.007000000000000006, -0.006000000000000005, -0.0050000000000000044, -0.0040000000000000036, -0.0030000000000000027, -0.0020000000000000018, -0.0010000000000000009, 0.0, 0.0010000000000000009, 0.0020000000000000018, 0.0030000000000000027, 0.0040000000000000036, 0.0050000000000000044, 0.006000000000000005, 0.007000000000000006, 0.008000000000000007, 0.009000000000000008, 0.010000000000000009, 0.01100000000000001
]
diff_3 = [-0.057603896, -0.057389528, -0.05737123, -0.05735174, -0.057353884, -0.05743125, -0.057599336, -0.05784318, -0.058155417, -0.058482647, -0.059063107, -0.059628487, -0.06035605, -0.06133911, -0.062331468, -0.06351903, -0.06497258, -0.06653032, -0.068449706, -0.07052225, -0.072944224, -0.075608194, -0.078719884, -0.08206993, -0.086927265, -0.091197014, -0.09600672, -0.10140905, -0.10732168, -0.11401439, -0.121350765, -0.1295565, -0.13971767, -0.14970723, -0.16084021, -0.17325017, -0.18785137, -0.20283687, -0.21943343, -0.23879293, -0.25875473, -0.2809413, -0.30618748, -0.33275095, -0.36290568, -0.3944934, -0.42800823, -0.4497751, -0.20274985, 0.0, 0.21920353, 0.48141742, 0.4714011, 0.4518597, 0.41810513, 0.37811303, 0.34054738, 0.30632132, 0.2752148, 0.24581343, 0.21976966, 0.19514728, 0.17322266, 0.15339774, 0.13516933, 0.11774266, 0.10261071, 0.088624895, 0.07603186, 0.06440079, 0.05367917, 0.044021547, 0.034274578, 0.026150227, 0.018625677, 0.011647403, 0.005312383, -0.00051033497, -0.005801201, -0.010887265, -0.015456706, -0.019568384, -0.023619503, -0.02719292, -0.030544996, -0.03377843, -0.036747605, -0.03950289, -0.042055666, -0.04460287, -0.04670638, -0.048908383, -0.050996184, -0.053035766, -0.0549196, -0.05698675, -0.059260875, -0.060837477, -0.06239572, -0.063895226
,-0.45507622, -0.20274985, -0.4577151, -0.14833829, -0.4607637, -0.0928157, -0.4641087, -0.036113054, -0.26520646, 0.0, 0.0, 0.0, 0.0, 0.0, 0.132514, 0.021651626, 0.47626275, 0.085623085, 0.47857994, 0.15141743, 0.48044294, 0.21920353, 0.48193723
]
time_3 = [-0.49, -0.48, -0.47, -0.46, -0.45, -0.44, -0.43, -0.42, -0.41000000000000003, -0.4, -0.39, -0.38, -0.37, -0.36, -0.35, -0.33999999999999997, -0.32999999999999996, -0.31999999999999995, -0.30999999999999994, -0.29999999999999993, -0.2899999999999999, -0.2799999999999999, -0.2699999999999999, -0.2599999999999999, -0.24999999999999994, -0.23999999999999994, -0.22999999999999993, -0.21999999999999992, -0.2099999999999999, -0.1999999999999999, -0.1899999999999999, -0.17999999999999988, -0.16999999999999987, -0.15999999999999986, -0.14999999999999986, -0.13999999999999985, -0.12999999999999984, -0.11999999999999983, -0.10999999999999982, -0.09999999999999981, -0.0899999999999998, -0.0799999999999998, -0.06999999999999978, -0.059999999999999776, -0.04999999999999977, -0.03999999999999976, -0.02999999999999975, -0.01999999999999974, -0.009999999999999731, 2.220446049250313e-16, 0.010000000000000231, 0.02000000000000024, 0.03000000000000025, 0.04000000000000026, 0.050000000000000266, 0.060000000000000275, 0.07000000000000028, 0.0800000000000003, 0.0900000000000003, 0.10000000000000031, 0.11000000000000032, 0.12000000000000033, 0.13000000000000034, 0.14000000000000035, 0.15000000000000036, 0.16000000000000036, 0.17000000000000037, 0.18000000000000038, 0.1900000000000004, 0.2000000000000004, 0.2100000000000004, 0.22000000000000042, 0.23000000000000043, 0.24000000000000044, 0.25000000000000044, 0.26000000000000045, 0.27000000000000046, 0.28000000000000047, 0.2900000000000005, 0.3000000000000005, 0.3100000000000005, 0.3200000000000005, 0.3300000000000005, 0.3400000000000005, 0.35000000000000053, 0.36000000000000054, 0.37000000000000055, 0.38000000000000056, 0.39000000000000057, 0.4000000000000006, 0.4100000000000006, 0.4200000000000006, 0.4300000000000006, 0.4400000000000006, 0.4500000000000006, 0.46000000000000063, 0.47000000000000064, 0.48000000000000065, 0.49000000000000066, 0.5000000000000007
,-0.01100000000000001, -0.010000000000000009, -0.009000000000000008, -0.008000000000000007, -0.007000000000000006, -0.006000000000000005, -0.0050000000000000044, -0.0040000000000000036, -0.0030000000000000027, -0.0020000000000000018, -0.0010000000000000009, 0.0, 0.0010000000000000009, 0.0020000000000000018, 0.0030000000000000027, 0.0040000000000000036, 0.0050000000000000044, 0.006000000000000005, 0.007000000000000006, 0.008000000000000007, 0.009000000000000008, 0.010000000000000009, 0.01100000000000001]

diff = np.array(diff)
diff = diff * 1000
diff_2 = np.array(diff_2)
diff_2 = diff_2 * 1000
diff_3 = np.array(diff_3)
diff_3 = diff_3 * 1000
plt.plot(time, diff, 'bo', label='1 V')
plt.plot(time_2, diff_2, 'r^', label='2 V')
plt.plot(time_3, diff_3, 'gs', label='3 V')
plt.ylabel('Voltage change Δy [mV]', fontsize=14.0, fontweight='bold')
plt.xlabel(r'time $t_{gap}$ [s]', fontsize=14.0, fontweight='bold')
print(diff, time)
plt.legend()
plt.savefig('stdp-amplitude', dpi=300)
plt.show()
